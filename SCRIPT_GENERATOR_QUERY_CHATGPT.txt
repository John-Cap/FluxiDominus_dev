def findPumpOrigin(self, pump):
    '''
    Iterate upstream and find first FlowOrigin. Assumes pump only pulls from one origin.
    '''
    if not isinstance(pump, Pump):
        return None

    visited = set()
    return self._recursiveOriginSearch(pump, visited)

def _recursiveOriginSearch(self, component, visited):
    if component in visited:
        return None
    visited.add(component)

    if isinstance(component, FlowOrigin):
        return component

    if not hasattr(component, 'inlets') or not component.inlets:
        return None

    for inlet in component.inlets:
        origin = self._recursiveOriginSearch(inlet, visited)
        if origin:
            return origin

    return None
